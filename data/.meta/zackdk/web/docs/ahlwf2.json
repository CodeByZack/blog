{
  "id": 5274318,
  "slug": "ahlwf2",
  "title": "React生命周期/及class对比hook组件",
  "book_id": 231593,
  "book": {
    "id": 231593,
    "type": "Book",
    "slug": "web",
    "name": "WEB",
    "user_id": 284138,
    "description": "前端知识点记录",
    "creator_id": 284138,
    "public": 1,
    "items_count": 58,
    "likes_count": 0,
    "watches_count": 3,
    "content_updated_at": "2023-02-02T09:09:21.426Z",
    "updated_at": "2023-02-02T09:09:21.000Z",
    "created_at": "2019-03-07T05:05:08.000Z",
    "namespace": "zackdk/web",
    "user": {
      "id": 284138,
      "type": "User",
      "login": "zackdk",
      "name": "行一度空山",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1551934932702-d412771d-8d33-4694-9186-a749a3b4e05b.jpeg",
      "books_count": 2,
      "public_books_count": 1,
      "followers_count": 5,
      "following_count": 0,
      "created_at": "2019-03-07T05:02:38.000Z",
      "updated_at": "2023-02-01T12:18:25.000Z",
      "_serializer": "v2.user"
    },
    "_serializer": "v2.book"
  },
  "user_id": 284138,
  "creator": {
    "id": 284138,
    "type": "User",
    "login": "zackdk",
    "name": "行一度空山",
    "description": null,
    "avatar_url": "https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1551934932702-d412771d-8d33-4694-9186-a749a3b4e05b.jpeg",
    "books_count": 2,
    "public_books_count": 1,
    "followers_count": 5,
    "following_count": 0,
    "created_at": "2019-03-07T05:02:38.000Z",
    "updated_at": "2023-02-01T12:18:25.000Z",
    "_serializer": "v2.user"
  },
  "format": "lake",
  "body": "\n\n面试的时候突然被问到，我一时半会想不起系统的了。<br />后来去翻了翻官方文档。\n\n感觉看这个图足够了。<br />[http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/](http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/)\n\n看完图，还可以看看官方对每个周期的描述<br />[https://react.docschina.org/docs/react-component.html](https://react.docschina.org/docs/react-component.html)\n\n<a name=\"gNRjv\"></a>\n## 生命周期\n\n<a name=\"qwK7A\"></a>\n### 挂载时\n\nconstructor<br />getDerivedStateFromProps<br />render<br />componentDidMount\n\n<a name=\"9nHu7\"></a>\n### 更新时\ngetDerivedStateFromProps<br />shouldComponentUpdate<br />render<br />getSnapshotBeforeUpdate<br />componentDidUpdate\n\n<a name=\"Jft0Z\"></a>\n### 卸载时\n\ncomponentWillUnmount\n\n\n<a name=\"MCykt\"></a>\n## 与hook组件的差异\n\n还真不好说\n\n1. 没有了生命周期，用相应的useEffect之类的替代\n2. hook更方便做逻辑共享，相比于HOC或者renderProps，看起来更简单，代码也更少。\n\n",
  "body_draft": "",
  "body_html": "<!doctype html><div class=\"lake-content-editor-core lake-engine lake-typography-traditional\" data-lake-element=\"root\"><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">面试的时候突然被问到，我一时半会想不起系统的了。</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">后来去翻了翻官方文档。</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">感觉看这个图足够了。</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><a href=\"http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/\" target=\"_blank\">http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/</a></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">看完图，还可以看看官方对每个周期的描述</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><a href=\"https://react.docschina.org/docs/react-component.html\" target=\"_blank\">https://react.docschina.org/docs/react-component.html</a></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h2 id=\"gNRjv\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 24px; line-height: 32px;\">生命周期</h2><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h3 id=\"qwK7A\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">挂载时</h3><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">constructor</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>getDerivedStateFromProps</span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>render</span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">componentDidMount</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h3 id=\"9nHu7\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">更新时</h3><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>getDerivedStateFromProps</span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>shouldComponentUpdate</span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">render</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">getSnapshotBeforeUpdate</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">componentDidUpdate</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h3 id=\"Jft0Z\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\">卸载时</h3><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">componentWillUnmount</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h2 id=\"MCykt\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 24px; line-height: 32px;\">与hook组件的差异</h2><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p class=\"\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">还真不好说</p><p class=\"\" style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><ol start=\"1\" lake-indent=\"0\" style=\"list-style-type: decimal; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li>没有了生命周期，用相应的useEffect之类的替代</li><li>hook更方便做逻辑共享，相比于HOC或者renderProps，看起来更简单，代码也更少。</li></ol><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 1.74; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p></div>",
  "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"viewport\" content=\"fixed\" /><meta name=\"typography\" content=\"traditional\" /><p><br /></p><p><br /></p><p>面试的时候突然被问到，我一时半会想不起系统的了。</p><p>后来去翻了翻官方文档。</p><p><br /></p><p>感觉看这个图足够了。</p><p><a href=\"http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/\" target=\"_blank\">http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/</a></p><p><br /></p><p>看完图，还可以看看官方对每个周期的描述</p><p><a href=\"https://react.docschina.org/docs/react-component.html\" target=\"_blank\">https://react.docschina.org/docs/react-component.html</a></p><p><br /></p><h2 id=\"gNRjv\">生命周期</h2><p><br /></p><h3 id=\"qwK7A\">挂载时</h3><p><br /></p><p>constructor</p><p><span>getDerivedStateFromProps</span></p><p><span>render</span></p><p>componentDidMount</p><p><br /></p><h3 id=\"9nHu7\">更新时</h3><p><span>getDerivedStateFromProps</span></p><p><span>shouldComponentUpdate</span></p><p>render</p><p>getSnapshotBeforeUpdate</p><p>componentDidUpdate</p><p><br /></p><h3 id=\"Jft0Z\">卸载时</h3><p><br /></p><p>componentWillUnmount</p><p><br /></p><p><br /></p><h2 id=\"MCykt\">与hook组件的差异</h2><p><br /></p><p>还真不好说</p><p><br /></p><ol start=\"1\"><li>没有了生命周期，用相应的useEffect之类的替代</li><li>hook更方便做逻辑共享，相比于HOC或者renderProps，看起来更简单，代码也更少。</li></ol><p><br /></p>",
  "body_draft_lake": "",
  "public": 1,
  "status": 1,
  "view_status": 0,
  "read_status": 1,
  "likes_count": 0,
  "comments_count": 0,
  "content_updated_at": "2020-03-17T01:00:29.000Z",
  "deleted_at": null,
  "created_at": "2020-03-14T02:01:08.000Z",
  "updated_at": "2020-03-17T01:00:30.000Z",
  "published_at": "2020-03-17T01:00:29.000Z",
  "first_published_at": "2020-03-17T01:00:29.000Z",
  "word_count": 150,
  "cover": null,
  "description": "面试的时候突然被问到，我一时半会想不起系统的了。后来去翻了翻官方文档。感觉看这个图足够了。http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/看完图，还可以看看官方对每个周期的描述https://react.docschin...",
  "custom_description": null,
  "hits": 28,
  "_serializer": "v2.doc_detail"
}